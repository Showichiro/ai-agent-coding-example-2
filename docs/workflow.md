
# AI Agent Development Workflow

このドキュメントは、AIエージェントを活用したソフトウェア開発の標準的なワークフローを定義します。

## 概要

本ワークフローは、人間とAIエージェントが協調して開発を進めるためのプロセスを定めたものです。各フェーズで作成されるドキュメントや利用するひな型、担当者を明確にすることで、開発プロセスを円滑化し、生産性を向上させることを目的とします。

## フェーズ

開発は以下のフェーズで進行します。

1.  [プロジェクトセットアップ](#1-プロジェクトセットアップ)
2.  [要件定義](#2-要件定義)
3.  [機能設計](#3-機能設計)
4.  [実装](#4-実装)
5.  [統合テスト](#5-統合テスト)
6.  [受入テスト](#6-受入テスト)

---

### 1. プロジェクトセットアップ

-   **担当:** 人間
-   **内容:**
    -   アプリケーションの基本的な雛形（ディレクトリ構成、ビルド設定など）を作成します。
    -   開発で利用するライブラリやフレームワークの基本的な使い方を示すコード例を用意します。
    -   AIエージェントへの指示プロンプトの基本方針（TDD、宣言的な指示など）を固めます。

### 2. 要件定義

-   **担当:** 人間
-   **成果物:** `docs/01_requirements/` 配下に要件を記述したファイルを作成します。

### 3. 機能設計

-   **担当:** AIエージェント
-   **プロセス:**
    1.  **設計書作成:**
        -   **入力:** `docs/01_requirements/` の要件定義ファイル
        -   **出力:** `docs/02_features/<requirement-key>/` 配下に機能設計書を作成します。
        -   **ひな型:** `docs/02_features/feature-template.md`
    2.  **設計レビュー:**
        -   **担当:** AIエージェント (レビュワー役)
        -   **入力:** 作成された機能設計書
        -   **チェックリスト:** `docs/99_reviews/feature-review-checklist.md`
        -   **出力:** `docs/99_reviews/<feature-key>-review-result-<index>.md` にレビュー結果を記録します。
    3.  **修正と再レビュー:**
        -   レビュー結果に基づき、設計書を修正します。
        -   承認されるまでレビューと修正を繰り返します。

### 4. 実装

-   **担当:** AIエージェント
-   **プロセス:**
    1.  **実装方法の確認:**
        -   実装に着手する前に `examples/**` を確認し、既存の実装パターンを把握・活用します。
        -   各サンプルは `package.json` の `scripts` に従い `pnpm run example:<name>` で実行可能です。これを活用し、具体的な動作を理解します。
        -   プロジェクトにない新しい実装パターンを導入した場合、再利用性を高めるために `examples/` ディレクトリへサンプルコードとして追加します。
    2.  **実装計画 (TODOリスト作成):**
        -   **入力:** `docs/02_features/<requirement-key>/*.md` (承認済みの機能設計書)
        -   **出力:** `docs/03_implements/<feature-key>-todo.md` に実装タスクのリストを作成します。(※機能の規模が大きい場合)
        -   **ひな型:** `docs/03_implements/implements-template.md`
    3.  **TDDサイクル:**
        -   以下のサイクルを繰り返して実装を進めます。
            1.  **テスト作成:** 先にテストコードを記述します。
            2.  **実装:** テストをパスするための最小限のコードを実装します。
            3.  **リファクタリング:** コードの品質を向上させます。
    4.  **実装レビュー:**
        -   **担当:** AIエージェント (レビュワー役)
        -   **入力:** 実装されたコード
        -   **チェックリスト:** `docs/99_reviews/implement-review-checklist.md`
        -   **出力:** `docs/99_reviews/<feature-key>-implement-review-result-<index>.md` にレビュー結果を記録します。
    5.  **修正と再レビュー:**
        -   レビュー結果に基づき、コードを修正します。
        -   承認されるまでレビューと修正を繰り返します。

### 5. 統合テスト

-   **担当:** AIエージェント
-   **プロセス:**
    1.  **テストケース作成:**
        -   **入力:** `docs/02_features/<requirement-key>/*.md` (承認済みの機能設計書)
        -   **出力:** `docs/04_tests/<requirement-key>/` 配下にテストケースを作成します。
        -   **ひな型:** `docs/04_tests/test-case-template.md`
    2.  **テスト実行:**
        -   作成したテストケースに基づき、CLI上でテストを実行します。

### 6. 受入テスト

-   **担当:** 人間
-   **内容:**
    -   開発された機能が要件を満たしているか、最終的な確認を行います。
